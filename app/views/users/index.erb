<%= render "shared/notice" %>
<% content_for :title, "Manage Users" %>

<div class="max-w-5xl mx-auto p-6 bg-white shadow-lg rounded-lg">

  <% if @pending_users.any? %>
    <table class="w-full border border-gray-300 shadow-md rounded-lg text-gray-800">
      <thead>
      <tr class="bg-gray-200 text-gray-700 text-left">
        <th class="py-3 px-6 border-b border-gray-300 text-center">Email</th>
        <th class="py-3 px-6 border-b border-gray-300 text-center">Role</th>
        <th class="py-3 px-6 border-b border-gray-300 text-center">Actions</th>
      </tr>
      </thead>
      <tbody>
      <% @pending_users.each do |user| %>
        <tr id="user-<%= user.id %>" class="bg-white hover:bg-gray-100 transition">
          <td class="py-4 px-6 border-b border-gray-300 text-center"><%= user.email_address %></td>
          <td class="py-4 px-6 border-b border-gray-300 text-center"><%= user.role.capitalize %></td>
          <td class="py-4 px-6 text-center border-b border-gray-300">
            <%= button_to "Approve", approve_user_path(user),
                          method: :patch,
                          remote: true,
                          data: { turbo: true, confirm: "Approve this user?" },
                          class: "px-4 py-2 bg-blue-500 text-white font-semibold rounded-md shadow-md hover:bg-blue-600 transition duration-300" %>
          </td>
        </tr>
      <% end %>
      </tbody>
    </table>
  <% else %>
    <p class="text-center text-gray-600 mt-6">No pending approvals.</p>
  <% end %>
</div>
